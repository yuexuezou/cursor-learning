# AI 提交信息

了解如何在Cursor中使用闪光图标或快捷键自动生成Git提交信息

Cursor可以帮助您只需点击一下即可为您的更改生成有意义的提交信息。以下是使用此功能的方法：

1. 暂存您想要提交的文件
2. 在侧边栏中打开Git选项卡
3. 在提交信息输入字段旁边寻找闪光(✨)图标
4. 点击闪光图标，根据您的暂存更改生成提交信息

![AI提交信息示例](https://mintlify.s3.us-west-1.amazonaws.com/cursor/images/ai-commit/ai-commit.png)

生成的提交信息将基于您暂存文件中的更改和您仓库的git历史。这意味着Cursor将分析您当前的更改和以前的提交信息，以生成上下文适当的信息。Cursor会从您的提交历史中学习，这意味着如果您使用诸如约定式提交(Conventional Commits)之类的约定，生成的信息将遵循相同的模式。

## 工作原理

AI提交信息功能的工作流程如下：

1. 当您点击闪光图标时，Cursor会分析您已暂存的文件更改
2. 系统会检查您的Git历史，了解您的提交信息风格和模式
3. 基于代码差异和历史模式，AI生成一个上下文相关的提交信息
4. 生成的信息会自动填入提交信息输入框，您可以进一步编辑或直接使用

这个功能特别适合遵循特定提交信息格式的团队，例如：
- 约定式提交（如`feat: add new login button`）
- Gitmoji（如`🐛 fix login validation bug`）
- 自定义团队格式

## 快捷键

您可以将生成提交信息功能绑定到键盘快捷键。

1. 转到键盘快捷键 `⌘R ⌘S` 或 `⌘⇧P` 并搜索"打开键盘快捷键(JSON)"
2. 将以下内容添加到文件中以绑定到 `⌘M`：  
```json  
{  
  "key": "cmd+m",  
  "command": "cursor.generateGitCommitMessage"  
}  
```
3. 保存文件，大功告成！

目前，没有办法自定义或提供关于如何生成提交信息的具体指示。Cursor将自动适应您现有的提交信息风格。

## 使用场景

AI提交信息功能在以下场景中特别有用：

- **保持一致的提交风格** - 自动生成的提交信息会学习您的提交历史风格
- **节省时间** - 不必手动编写详细的提交信息
- **提高提交质量** - 生成的信息通常包含更多关于更改内容的详细信息
- **遵循团队约定** - 如果您的团队使用特定的提交信息格式，AI会自动遵循
- **处理复杂更改** - 当更改涉及多个文件或复杂逻辑时，AI可以帮助总结关键点

## 提交信息示例

以下是AI可能生成的提交信息示例：

### 功能添加

```
feat: 添加用户注册表单和验证逻辑

- 创建新的注册组件，包含电子邮件、密码和确认密码字段
- 实现客户端表单验证，检查密码强度和匹配
- 添加API调用以提交注册数据到后端
- 更新路由以包含新的注册页面
```

### 错误修复

```
fix: 修复移动设备上的导航栏溢出问题

- 调整导航栏的响应式布局，防止在小屏幕设备上的内容溢出
- 为移动视图添加汉堡菜单图标
- 修复iOS Safari上的显示问题
```

### 重构

```
refactor: 重构数据获取逻辑以使用React Query

- 将自定义fetch hooks替换为React Query的useQuery和useMutation
- 实现查询缓存以减少不必要的网络请求
- 添加错误处理和加载状态管理
- 更新相关组件以使用新的数据获取方法
```

## 提示与技巧

- 确保在生成提交信息之前暂存所有相关文件
- 生成后，您仍然可以编辑提交信息以添加更多细节
- 如果您的仓库有一致的提交历史，生成的信息质量会更高
- 对于复杂的更改，考虑将更改分成多个逻辑提交，以获得更精确的提交信息
- 如果生成的信息不符合您的期望，您可以重新生成或手动编辑
- 结合项目状态文件（如`status.md`）使用，可以帮助AI更好地理解项目上下文
- 在团队中推广使用此功能，以保持提交信息的一致性

## 常见问题

**问：AI提交信息是否支持多语言？**  
答：是的，AI会根据您的提交历史使用相同的语言。如果您的提交历史主要是中文，生成的信息也会是中文。

**问：我可以自定义生成的提交信息格式吗？**  
答：目前没有直接的自定义选项，但AI会学习您现有的提交历史模式。保持一致的提交风格，AI会逐渐适应。

**问：生成的提交信息有字数限制吗？**  
答：没有严格的限制，但AI会尝试生成简洁而全面的信息，通常包括一个摘要行和几个要点。

通过使用AI提交信息功能，您可以保持Git历史的清晰和一致性，同时减少编写提交信息所需的时间和精力。这是Cursor提供的另一个强大工具，旨在简化您的开发工作流程。 